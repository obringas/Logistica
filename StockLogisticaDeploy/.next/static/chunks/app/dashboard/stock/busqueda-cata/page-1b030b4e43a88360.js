(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{252:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});var r=s(5155),t=s(2115);function l(e){let{filtros:a,setFiltros:s,onBuscar:t,onLimpiar:l}=e,d=e=>{let{name:r,value:t}=e.target;s({...a,[r]:t})};return(0,r.jsxs)("div",{className:"bg-white shadow p-4 rounded mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"\uD83D\uDD0D B\xfasqueda por CATA"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)("input",{type:"number",name:"idGrado",value:a.idGrado,onChange:d,className:"border rounded p-2",placeholder:"ID Grado"}),(0,r.jsx)("input",{type:"number",name:"idPropietario",value:a.idPropietario,onChange:d,className:"border rounded p-2",placeholder:"ID Propietario"}),(0,r.jsx)("input",{type:"number",name:"nroCata",value:a.nroCata,onChange:d,className:"border rounded p-2",placeholder:"Nro CATA"})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>t(a),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Buscar"}),(0,r.jsx)("button",{onClick:l,className:"bg-gray-300 text-black px-4 py-2 rounded",children:"Limpiar"})]})]})}function d(e){let{resultados:a,loading:s}=e;return s?(0,r.jsx)("p",{className:"text-blue-600",children:"\uD83D\uDD04 Buscando..."}):a&&0!==a.length?(0,r.jsx)("div",{className:"mt-4 border rounded shadow overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm text-left bg-white",children:[(0,r.jsx)("thead",{className:"bg-gray-100 font-semibold text-xs uppercase text-gray-600",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-2 py-1",children:"Grado"}),(0,r.jsx)("th",{className:"px-2 py-1",children:"Campa\xf1a"}),(0,r.jsx)("th",{className:"px-2 py-1",children:"CATA"}),(0,r.jsx)("th",{className:"px-2 py-1",children:"Boleta DGI"}),(0,r.jsx)("th",{className:"px-2 py-1",children:"Bulto"}),(0,r.jsx)("th",{className:"px-2 py-1",children:"Dep\xf3sito"}),(0,r.jsx)("th",{className:"px-2 py-1",children:"Galp\xf3n"}),(0,r.jsx)("th",{className:"px-2 py-1",children:"Estiba"})]})}),(0,r.jsx)("tbody",{children:a.map((e,a)=>(0,r.jsxs)("tr",{className:"border-t",children:[(0,r.jsx)("td",{className:"px-2 py-1",children:e.nombreGradoMarca}),(0,r.jsx)("td",{className:"px-2 py-1",children:e.campania}),(0,r.jsx)("td",{className:"px-2 py-1",children:e.nroCATA}),(0,r.jsx)("td",{className:"px-2 py-1",children:e.boletaDGI}),(0,r.jsx)("td",{className:"px-2 py-1",children:e.nroBulto}),(0,r.jsx)("td",{className:"px-2 py-1",children:e.deposito}),(0,r.jsx)("td",{className:"px-2 py-1",children:e.galpon}),(0,r.jsx)("td",{className:"px-2 py-1",children:e.estiba})]},a))})]})}):(0,r.jsx)("p",{className:"text-gray-500",children:"No se encontraron resultados."})}function n(){let{resultados:e,buscar:a,loading:s}=function(){let[e,a]=(0,t.useState)([]),[s,r]=(0,t.useState)(!1);return{resultados:e,buscar:async e=>{let{idGrado:s,idPropietario:t,nroCata:l}=e;r(!0);try{let e=await fetch("/StockLogistica/api/stock/detalle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idGrado:s,idGalpon:0,idEstiba:0,idEstado:0,idVariedad:0,idProducto:0,idPropietario:t,nroBultoDesde:0,nroBultoHasta:0,nroCata:l})}),r=await e.json();a(Array.isArray(r)?r:[])}catch(e){console.error("Error en b\xfasqueda:",e),a([])}finally{r(!1)}},loading:s}}(),[n,i]=(0,t.useState)({idGrado:0,idPropietario:0,nroCata:0}),o=async()=>{await a(n)};return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDD0D B\xfasqueda por CATA"}),(0,r.jsx)(l,{filtros:n,setFiltros:i,onBuscar:o,onLimpiar:()=>{i({idGrado:0,idPropietario:0,nroCata:0})}}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(d,{resultados:e,loading:s})})]})}},9429:(e,a,s)=>{Promise.resolve().then(s.bind(s,252))}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(9429)),_N_E=e.O()}]);